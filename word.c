#include "word.h"
#include "lcd.h"
#include <stdio.h>

unsigned char word[17][16*16/8] = 
	{
		{
/*--  æ–‡å­—:  0  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x00,0x36,0x00,0x63,0x00,0x63,0x00,0x63,0x00,
0x63,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x36,0x00,0x1C,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  1  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x00,0x3C,0x00,0x0C,0x00,0x0C,0x00,0x0C,0x00,
0x0C,0x00,0x0C,0x00,0x0C,0x00,0x0C,0x00,0x0C,0x00,0x3F,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  2  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x03,0x00,
0x06,0x00,0x0C,0x00,0x18,0x00,0x30,0x00,0x63,0x00,0x7F,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  3  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x63,0x00,0x63,0x00,0x03,0x00,0x06,0x00,
0x1C,0x00,0x06,0x00,0x03,0x00,0x63,0x00,0x63,0x00,0x3E,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  4  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x00,0x0E,0x00,0x0E,0x00,0x1E,0x00,0x36,0x00,
0x36,0x00,0x66,0x00,0x7F,0x80,0x06,0x00,0x06,0x00,0x1F,0x80,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  5  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x60,0x00,0x60,0x00,0x60,0x00,0x7C,0x00,
0x66,0x00,0x03,0x00,0x03,0x00,0x63,0x00,0x66,0x00,0x3C,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  6  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x00,0x36,0x00,0x60,0x00,0x60,0x00,0x7E,0x00,
0x73,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x33,0x00,0x1E,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  7  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x00,0x63,0x00,0x06,0x00,0x06,0x00,0x0C,0x00,
0x0C,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  8  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x3E,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x36,0x00,
0x1C,0x00,0x36,0x00,0x63,0x00,0x63,0x00,0x63,0x00,0x3E,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  9  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x00,0x66,0x00,0x63,0x00,0x63,0x00,0x63,0x00,
0x67,0x00,0x3F,0x00,0x03,0x00,0x03,0x00,0x36,0x00,0x1C,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  Â°  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x1C,0x00,0x36,0x00,0x36,0x00,0x1C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  C  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x00,0x63,0x00,0x63,0x00,0xC0,0x00,0xC0,0x00,
0xC0,0x00,0xC0,0x00,0xC0,0x00,0x63,0x00,0x66,0x00,0x3C,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  -  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  .  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0x00,0x70,0x00,0x00,0x00,0x00,0x00,
		},
		{
/*--  æ–‡å­—:  å¹´  --*/
/*--  å®‹ä½“16;  å®½xé«˜=16x16  --*/
0x10, 0x10, 0x1f, 0x20, 0x20, 0x40, 0x1f, 0x10, 0x10, 0x10, 0xff, 0x00, 0x00, 0x00, 0x00, 0x00,
0x00, 0x00, 0xfc, 0x80, 0x80, 0x80, 0xf8, 0x80, 0x80, 0x80, 0xfe, 0x80, 0x80, 0x80, 0x80, 0x80,

		},
		{
/*--  æ–‡å­—:  æœˆ  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x1F,0x80,0x18,0x00,0x18,0x00,0x18,0x00,0x1F,0x80,0x18,0x00,0x18,0x00,
0x18,0x00,0x1F,0x80,0x18,0x00,0x18,0x00,0x30,0x00,0x30,0x00,0x60,0x00,0xC0,0x00,
		},
		{
/*--  æ–‡å­—:  æ—¥  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=9x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=16x16  --*/
0x00,0x00,0x1F,0x80,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x1F,0x80,
0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x18,0x00,0x1F,0x80,0x18,0x00,
		},
	};

unsigned char word_hz[3][24*16/8] = {
	{
/*--  æ–‡å­—:  å¹´  --*/
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=17x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=24x16  --*/
0x18,0x00,0x00,0x18,0x00,0x00,0x1F,0xFE,0x00,0x30,0xC0,0x00,0x30,0xC0,0x00,0x60,
0xC0,0x00,0x1F,0xFC,0x00,0x18,0xC0,0x00,0x18,0xC0,0x00,0x18,0xC0,0x00,0xFF,0xFF,
0x00,0x00,0xC0,0x00,0x00,0xC0,0x00,0x00,0xC0,0x00,0x00,0xC0,0x00,0x00,0xC0,0x00,		
	},
	{
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=17x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=24x16  --*/
0x00,0x00,0x00,0x1F,0xFC,0x00,0x18,0x0C,0x00,0x18,0x0C,0x00,0x18,0x0C,0x00,0x1F,
0xFC,0x00,0x18,0x0C,0x00,0x18,0x0C,0x00,0x18,0x0C,0x00,0x1F,0xFC,0x00,0x18,0x0C,
0x00,0x18,0x0C,0x00,0x30,0x0C,0x00,0x30,0x0C,0x00,0x60,0x3C,0x00,0xC0,0x18,0x00,
	},
	{
/*--  å®‹ä½“12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=17x16   --*/
/*--  å®½åº¦ä¸æ˜¯8çš„å€æ•°ï¼Œç°è°ƒæ•´ä¸ºï¼šå®½åº¦xé«˜åº¦=24x16  --*/
0x00,0x00,0x00,0x1F,0xF8,0x00,0x18,0x18,0x00,0x18,0x18,0x00,0x18,0x18,0x00,0x18,
0x18,0x00,0x18,0x18,0x00,0x1F,0xF8,0x00,0x18,0x18,0x00,0x18,0x18,0x00,0x18,0x18,
0x00,0x18,0x18,0x00,0x18,0x18,0x00,0x18,0x18,0x00,0x1F,0xF8,0x00,0x18,0x18,0x00,
	},
};


/*
	:ç”¨æˆ·æŒ‡å®šåœ¨å¼€å‘æ¿çš„åˆé€‚ä½ç½®æ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚
	@x0,y0:ç”¨æˆ·æŒ‡å®šçš„æ˜¾ç¤ºä½ç½®ã€‚
	@word[]:ç”¨æˆ·æŒ‡å®šæ˜¾ç¤ºçš„å­—ç¬¦
	@w,h:æ˜¾ç¤ºå­—ç¬¦çš„å¤§å°ã€‚
		å­—ç¬¦å¤§å°å–å†³äºå–æ¨¡çš„å­—ä½“å¤§å°ï¼Œå°±æ˜¯å®½åº¦å’Œé«˜åº¦
*/
void word_display(char word[],int x0,int y0,int w,int h)
{
	//1.æ‰¾åˆ°è¯¥åƒç´ ç‚¹çš„æ˜¾ç¤ºä½ç½®
	int dian; //è¡¨ç¤ºå½“å‰åˆ¤æ–­çš„è¿™ä¸ªåƒç´ ç‚¹
	for(dian = 0;dian < w * h;dian++)
	{
		//è¦åœ¨å±å¹•ä¸Šåˆé€‚çš„ä½ç½®æ˜¾ç¤ºè¿™ä¸ªåƒç´ ç‚¹
		
		int x,y;//è¿™ä¸ªdianåƒç´ ç‚¹ï¼Œåœ¨å±å¹•ä¸Šçš„æ˜¾ç¤ºä½ç½®
		
		//dianè¿™ä¸ªåƒç´ ç‚¹åœ¨åŸå§‹å­—ç¬¦çš„ç¬¬ dian / wè¡Œ
		y = y0 + dian / w;
		
		//dianè¿™ä¸ªåƒç´ ç‚¹åœ¨åŸå§‹å­—ç¬¦çš„ç¬¬ dian % wåˆ—
		x = x0 + dian % w;
		
		//dianè¿™ä¸ªåƒç´ ç‚¹æ˜¯å¦åœ¨å­—ç¬¦ä¸Šã€‚
		//åˆ¤æ–­ä¾æ®:å–æ¨¡ä¹‹åå¯¹åº”çš„é‚£ä¸€ä¸ªbitä½æ˜¯1è¿˜æ˜¯0
		int index = dian / 8;	//æ±‚å‡ºå½“å‰åƒç´ ç‚¹åœ¨å–æ¨¡æ•°æ®ä¸­çš„ç¬¬å‡ ä¸ªå…ƒç´ ä¸­
		
		//word[index]è¿™ä¸ªå…ƒç´ ä¸€å…±æœ‰8ä¸ªbitä½ï¼Œå½“å‰dianå¯¹åº”çš„æ˜¯å“ªä¸€ä½ï¼Ÿ
		int bit = 7 - dian % 8;
		
		int color;//å½“å‰åƒç´ ç‚¹è¦æ˜¾ç¤ºçš„é¢œè‰²
		
		if(word[index] & (1<<bit))
		{
			//å½“å‰åƒç´ ç‚¹åœ¨å­—ç¬¦ä¸Šï¼Œå¯¹åº”bitä½ä¸º1
			color = 0xffffff;
		}
		else
		{
			color = 0x2E5479;
		}
		display_point(x,y,color);
	}
}

void show_tem(double temperature, int center_x, int center_y)
{
    int w = 16;      // å­—æ¨¡å®½
    int h = 16;      // å­—æ¨¡é«˜
    int spacing = 4; // å­—ç¬¦é—´è·
    int x, y;

    // 1ï¸âƒ£ åˆ¤æ–­è´Ÿå·
    int is_negative = 0;
    if (temperature < 0) {
        is_negative = 1;
        temperature = -temperature;
    }

    // 2ï¸âƒ£ åˆ†ç¦»æ•´æ•°å’Œå°æ•°éƒ¨åˆ†ï¼ˆä¿ç•™ä¸¤ä½ï¼‰
    int integer = (int)temperature;
    double frac = temperature - integer;
    int decimal = (int)(frac * 100); // å››èˆäº”å…¥ä¸¤ä½

    // ğŸ”¸ é˜²æ­¢å°æ•°è¿›ä½æº¢å‡ºï¼Œä¾‹å¦‚ 99.995 â†’ 100.00
    if (decimal >= 100) {
        integer += 1;
        decimal = 0;
    }

    // 3ï¸âƒ£ å¤„ç†æ•´æ•°éƒ¨åˆ†å­—ç¬¦ä¸²
    char buf_int[10];
    sprintf(buf_int, "%d", integer);
    int num_len = 0;
    for (int i = 0; buf_int[i] != '\0'; i++) num_len++;

    // 4ï¸âƒ£ å¤„ç†å°æ•°éƒ¨åˆ†ä¸¤ä½
    char buf_dec[3];
    sprintf(buf_dec, "%02d", decimal); // ç¡®ä¿ä¸¤ä½

    // 5ï¸âƒ£ æ€»å­—ç¬¦æ•° = è´Ÿå· + æ•´æ•° + å°æ•°ç‚¹ + å°æ•°ä¸¤ä½
    int char_count = num_len + 1 + 2 + (is_negative ? 1 : 0);

    // 6ï¸âƒ£ è®¡ç®—å±…ä¸­èµ·å§‹åæ ‡
    int total_width = char_count * w + (char_count - 1) * spacing;
    int x0 = center_x - total_width / 2;
    int y0 = center_y - h / 2;

    x = x0;
    y = y0;

    // 7ï¸âƒ£ æ˜¾ç¤ºè´Ÿå·
    if (is_negative) {
        word_display(word[12], x, y, w, h);
        x += w + spacing;
    }

    // 8ï¸âƒ£ æ˜¾ç¤ºæ•´æ•°éƒ¨åˆ†
    for (int i = 0; buf_int[i] != '\0'; i++) {
        int num = buf_int[i] - '0';
        word_display(word[num], x, y, w, h);
        x += w + spacing;
    }

    // 9ï¸âƒ£ æ˜¾ç¤ºå°æ•°ç‚¹
    word_display(word[13], x, y, w, h);
    x += w + spacing;

    // ğŸ”Ÿ æ˜¾ç¤ºä¸¤ä½å°æ•°
    for (int i = 0; i < 2; i++) {
        int num = buf_dec[i] - '0';
        word_display(word[num], x, y, w, h);
        x += w + spacing;
    }
}

void display_word(void) {
	int w = 16, h = 16;
    word_display_yw(word[2], 551, 44, w, h); // 2
	word_display_yw(word[0], 568, 44, w, h); // 0
	word_display_yw(word[2], 587, 44, w, h); // 2
	word_display_yw(word[5], 605, 44, w, h); // 5
	word_display_yw(word_hz[0], 623, 44, 24, h); // å¹´
	word_display_yw(word[1], 649,44, w, h); // 1
	word_display_yw(word[0], 667, 44, w, h); // 0
	word_display_yw(word_hz[1], 685, 44, 24, h); // æœˆ
	word_display_yw(word[2], 711, 44, w, h); // 2
	word_display_yw(word[1], 729, 44, w, h); // 0
	word_display_yw(word_hz[2], 747, 44, 24, h); // æ—¥
}

void word_display_yw(char word[],int x0,int y0,int w,int h)
{
	//1.æ‰¾åˆ°è¯¥åƒç´ ç‚¹çš„æ˜¾ç¤ºä½ç½®
	int dian; //è¡¨ç¤ºå½“å‰åˆ¤æ–­çš„è¿™ä¸ªåƒç´ ç‚¹
	for(dian = 0;dian < w * h;dian++)
	{
		//è¦åœ¨å±å¹•ä¸Šåˆé€‚çš„ä½ç½®æ˜¾ç¤ºè¿™ä¸ªåƒç´ ç‚¹
		
		int x,y;//è¿™ä¸ªdianåƒç´ ç‚¹ï¼Œåœ¨å±å¹•ä¸Šçš„æ˜¾ç¤ºä½ç½®
		
		//dianè¿™ä¸ªåƒç´ ç‚¹åœ¨åŸå§‹å­—ç¬¦çš„ç¬¬ dian / wè¡Œ
		y = y0 + dian / w;
		
		//dianè¿™ä¸ªåƒç´ ç‚¹åœ¨åŸå§‹å­—ç¬¦çš„ç¬¬ dian % wåˆ—
		x = x0 + dian % w;
		
		//dianè¿™ä¸ªåƒç´ ç‚¹æ˜¯å¦åœ¨å­—ç¬¦ä¸Šã€‚
		//åˆ¤æ–­ä¾æ®:å–æ¨¡ä¹‹åå¯¹åº”çš„é‚£ä¸€ä¸ªbitä½æ˜¯1è¿˜æ˜¯0
		int index = dian / 8;	//æ±‚å‡ºå½“å‰åƒç´ ç‚¹åœ¨å–æ¨¡æ•°æ®ä¸­çš„ç¬¬å‡ ä¸ªå…ƒç´ ä¸­
		
		//word[index]è¿™ä¸ªå…ƒç´ ä¸€å…±æœ‰8ä¸ªbitä½ï¼Œå½“å‰dianå¯¹åº”çš„æ˜¯å“ªä¸€ä½ï¼Ÿ
		int bit = 7 - dian % 8;
		
		int color;//å½“å‰åƒç´ ç‚¹è¦æ˜¾ç¤ºçš„é¢œè‰²
		
		if(word[index] & (1<<bit))
		{
			//å½“å‰åƒç´ ç‚¹åœ¨å­—ç¬¦ä¸Šï¼Œå¯¹åº”bitä½ä¸º1
			color = 0xffffff;
		}
		else
		{
			color = 0xEF949E;
		}
		display_point(x,y,color);
	}
}

void show_tem_yw(double temperature, int center_x, int center_y)
{
    int w = 16;      // å­—æ¨¡å®½
    int h = 16;      // å­—æ¨¡é«˜
    int spacing = 4; // å­—ç¬¦é—´è·
    int x, y;

    // 1ï¸âƒ£ åˆ¤æ–­è´Ÿå·
    int is_negative = 0;
    if (temperature < 0) {
        is_negative = 1;
        temperature = -temperature;
    }

    // 2ï¸âƒ£ åˆ†ç¦»æ•´æ•°å’Œå°æ•°éƒ¨åˆ†ï¼ˆä¿ç•™ä¸¤ä½ï¼‰
    int integer = (int)temperature;
    double frac = temperature - integer;
    int decimal = (int)(frac * 100); // å››èˆäº”å…¥ä¸¤ä½

    // ğŸ”¸ é˜²æ­¢å°æ•°è¿›ä½æº¢å‡ºï¼Œä¾‹å¦‚ 99.995 â†’ 100.00
    if (decimal >= 100) {
        integer += 1;
        decimal = 0;
    }

    // 3ï¸âƒ£ å¤„ç†æ•´æ•°éƒ¨åˆ†å­—ç¬¦ä¸²
    char buf_int[10];
    sprintf(buf_int, "%d", integer);
    int num_len = 0;
    for (int i = 0; buf_int[i] != '\0'; i++) num_len++;

    // 4ï¸âƒ£ å¤„ç†å°æ•°éƒ¨åˆ†ä¸¤ä½
    char buf_dec[3];
    sprintf(buf_dec, "%02d", decimal); // ç¡®ä¿ä¸¤ä½

    // 5ï¸âƒ£ æ€»å­—ç¬¦æ•° = è´Ÿå· + æ•´æ•° + å°æ•°ç‚¹ + å°æ•°ä¸¤ä½
    int char_count = num_len + 1 + 2 + (is_negative ? 1 : 0);

    // 6ï¸âƒ£ è®¡ç®—å±…ä¸­èµ·å§‹åæ ‡
    int total_width = char_count * w + (char_count - 1) * spacing;
    int x0 = center_x - total_width / 2;
    int y0 = center_y - h / 2;

    x = x0;
    y = y0;

    // 7ï¸âƒ£ æ˜¾ç¤ºè´Ÿå·
    if (is_negative) {
        word_display_yw(word[12], x, y, w, h);
        x += w + spacing;
    }

    // 8ï¸âƒ£ æ˜¾ç¤ºæ•´æ•°éƒ¨åˆ†
    for (int i = 0; buf_int[i] != '\0'; i++) {
        int num = buf_int[i] - '0';
        word_display_yw(word[num], x, y, w, h);
        x += w + spacing;
    }

    // 9ï¸âƒ£ æ˜¾ç¤ºå°æ•°ç‚¹
    word_display_yw(word[13], x, y, w, h);
    x += w + spacing;

    // ğŸ”Ÿ æ˜¾ç¤ºä¸¤ä½å°æ•°
    for (int i = 0; i < 2; i++) {
        int num = buf_dec[i] - '0';
        word_display_yw(word[num], x, y, w, h);
        x += w + spacing;
    }
}